{% extends 'app/base.html' %}

{% block title %} Dashboard {% endblock %}

{% block script %}

<script>
    function confirmDelete() {
        return confirm("Are you sure you want to delete this item?");
    }
</script>

{% endblock %}



{% block content %}





{% if request.user.is_authenticated %}

<div class="profile-banner text-center">
    <h1>Welcome, {{ request.user.username }}. </h1> 

    <h1>Your Campaigns:</h1>
</div>






    <div class="campaigns-box" >
        {% for item in data %}
        <!-- Button trigger modal -->

  
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirm delete</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                Are you sure you want to delete this item?
                <h2>{{ item.id }}</h2>
                <h2>{{ item.author_id }}</h2>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <a id="btn_delete" class="btn btn-primary btn-custom" >Delete</a>
                </div>
            </div>
            </div>
        </div>
        <div class="campaigns item-1">

            <div class="campaign-title">
                <h2>{{ item.name }}</h2>
                <h2>{{ item.id }}</h2>
            </div>

            <div class="details row">
                <div class="campaign-details col-12 col-lg-4">
                    <h5>Organisor: {{ item.organisor }} </h5>
                    <h5>Location: {{ item.location }}</h5>
                    <h5>Date: {{ item.date }}</h5>
                </div>

                <div class="campaign-description col-12 col-lg-4">
                    <h5>Description:</h5>
                    <p>{{ item.description }}</p>
                </div>

                <div class="campaign-btns col-12 col-lg-4">
                    
                    <a  id="btn_edit" class="btn btn-primary btn-custom" href="/update/{{item.id}}">Edit</a>
                    <!-- <a id="btn_delete" class="btn btn-primary btn-custom"  onclick="return confirmDelete();" href="/delete/{{item.id}}">Delete</a> -->

                    <a id="btn_delete" class="btn btn-primary btn-custom" data-bs-toggle="modal" data-bs-target="#exampleModal" href="/delete/{{item.id}}">Delete</a>

                    <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Launch demo modal
                      </button> -->
                    
                </div>

            </div>

        </div>

        {% endfor %}

        
    </div>


{% endif %}

{% endblock %}